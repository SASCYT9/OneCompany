# Telegram Bot - –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç

## üöÄ –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

‚úÖ **–î–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π –±–æ—Ç** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –∫–æ–º–∞–Ω–¥  
‚úÖ **Webhook** –¥–ª—è real-time –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å  
‚úÖ **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –∫–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–æ—é** (–∞–≤—Ç–æ/–º–æ—Ç–æ)  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** –∫–ª—ñ—î–Ω—Ç–∞–º  
‚úÖ **–ü–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤** –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º  

---

## ‚ö° –®–≤–∏–¥–∫–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (5 —Ö–≤–∏–ª–∏–Ω)

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram ‚Üí –∑–Ω–∞–π–¥—ñ—Ç—å **@BotFather**
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/newbot`
3. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É: `OneCompany Bot`
4. –í–≤–µ–¥—ñ—Ç—å username: `onecompany_contact_bot`
5. **–°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω**: `1234567890:ABC...`

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—Ä—É–ø–∏

1. –°—Ç–≤–æ—Ä—ñ—Ç—å **3 –≥—Ä—É–ø–∏** –≤ Telegram:
   - `OneCompany - –ì–æ–ª–æ–≤–Ω–∞` (–¥–ª—è –∑–∞–≥–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤)
   - `OneCompany - –ê–≤—Ç–æ` (–¥–ª—è –∞–≤—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ –∑ —Ñ–æ—Ä–º–∏)
   - `OneCompany - –ú–æ—Ç–æ` (–¥–ª—è –º–æ—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ –∑ —Ñ–æ—Ä–º–∏)

2. **–î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞** –≤ –∫–æ–∂–Ω—É –≥—Ä—É–ø—É:
   - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—Ä—É–ø–∏ ‚Üí –î–æ–¥–∞—Ç–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤ ‚Üí –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à –±–æ—Ç
   - –ó—Ä–æ–±—ñ—Ç—å –±–æ—Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–Ω–∞–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)

### –ö—Ä–æ–∫ 3: –û—Ç—Ä–∏–º–∞–π—Ç–µ Chat ID

1. –î–æ–¥–∞–π—Ç–µ **@userinfobot** —É –∫–æ–∂–Ω—É –≥—Ä—É–ø—É
2. –ü–µ—Ä–µ—à–ª—ñ—Ç—å –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –≥—Ä—É–ø–∏ –¥–æ @userinfobot
3. –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å –∑ Chat ID (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `-1001234567890`)
4. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –¥–ª—è –≤—Å—ñ—Ö —Ç—Ä—å–æ—Ö –≥—Ä—É–ø
5. –í–∏–¥–∞–ª—ñ—Ç—å @userinfobot –∑ –≥—Ä—É–ø

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å/–æ–Ω–æ–≤—ñ—Ç—å `.env.local`:

```env
# –¢–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567

# ID –≥–æ–ª–æ–≤–Ω–æ—ó –≥—Ä—É–ø–∏ (–¥–ª—è –∑–∞–≥–∞–ª—å–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ –±–æ—Ç)
TELEGRAM_CHAT_ID=-1001234567890

# ID –≥—Ä—É–ø–∏ –¥–ª—è –∞–≤—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ (–∑ –∫–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–∏)
TELEGRAM_AUTO_CHAT_ID=-1001111111111

# ID –≥—Ä—É–ø–∏ –¥–ª—è –º–æ—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤ (–∑ –∫–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–∏)
TELEGRAM_MOTO_CHAT_ID=-1002222222222

# URL –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É (–¥–ª—è webhook –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é)
NEXT_PUBLIC_BASE_URL=https://onecompany.com.ua
```

### –ö—Ä–æ–∫ 5: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ—î–∫—Ç

```bash
npm run dev
```

### –ö—Ä–æ–∫ 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–ª–æ–∫–∞–ª—å–Ω–æ)

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ webhook —Å—Ç–∞—Ç—É—Å:**
   ```
   http://localhost:3001/api/telegram/webhook
   ```
   –ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏: `{ status: 'active', webhook: 'ready', ... }`

2. **–ù–∞–¥—ñ—à–ª—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –¥–æ –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ –≤ Telegram:
   - –ó–Ω–∞–π–¥—ñ—Ç—å –±–æ—Ç–∞: `@onecompany_contact_bot`
   - –ù–∞–¥—ñ—à–ª—ñ—Ç—å: `/start`
   - –ë–æ—Ç –º–∞—î –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è–º

3. **–¢–µ—Å—Ç—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏:**
   - `/brands` - —Å–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥—ñ–≤
   - `/contact` - –∫–æ–Ω—Ç–∞–∫—Ç–∏
   - `/help` - –¥–æ–ø–æ–º–æ–≥–∞

4. **–¢–µ—Å—Ç –∫–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–∏:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ: http://localhost:3001/en/contact
   - –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É (–æ–±–µ—Ä—ñ—Ç—å "–ê–≤—Ç–æ" –∞–±–æ "–ú–æ—Ç–æ")
   - –ù–∞–¥—ñ—à–ª—ñ—Ç—å
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –≥—Ä—É–ø—É –≤ Telegram

---

## üåê –î–µ–ø–ª–æ–π (Production)

### –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ Vercel/Netlify:

1. **–î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è** –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏

2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ webhook:**
   ```
   https://onecompany.com.ua/api/telegram/setup
   ```
   
   –¶–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É—î webhook –≤ Telegram.

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo
   ```

---

## üì± –î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/start` | –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/brands` | –ü–µ—Ä–µ–≥–ª—è–¥ –ø—Ä–µ–º—ñ—É–º –±—Ä–µ–Ω–¥—ñ–≤ (–∞–≤—Ç–æ + –º–æ—Ç–æ) |
| `/contact` | –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è |
| `/help` | –Ø–∫ –º–∏ –º–æ–∂–µ–º–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ |

**–ë—É–¥—å-—è–∫–∏–π —ñ–Ω—à–∏–π —Ç–µ–∫—Å—Ç** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Å–∏–ª–∞—î—Ç—å—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º + –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º—É—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ç–µ–∫—Å—Ç–∏ –∫–æ–º–∞–Ω–¥ —É —Ñ–∞–π–ª—ñ:
```
src/app/api/telegram/webhook/route.ts
```

–ó–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `POST` —Ç–∞ –∑–º—ñ–Ω—ñ—Ç—å —Ç–µ–∫—Å—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.

---

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

**–ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –∫–æ–º–∞–Ω–¥–∏:**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ `.env.local`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å dev server
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç—å –≤ –≥—Ä—É–ø—É:**
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –±–æ—Ç —î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `TELEGRAM_CHAT_ID` (–º–∞—î –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ `-100`)
- –°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞ –∑–Ω–æ–≤—É –¥–æ–¥–∞—Ç–∏ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø—É

**Webhook –Ω–µ –ø—Ä–∞—Ü—é—î (production):**
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `NEXT_PUBLIC_BASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- URL –º–∞—î –±—É—Ç–∏ HTTPS (–Ω–µ HTTP)
- –í–∏–∫–ª–∏—á—Ç–µ `/api/telegram/setup` –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é

**–ö–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–∞ –Ω–µ –Ω–∞–¥—Å–∏–ª–∞—î:**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `TELEGRAM_AUTO_CHAT_ID` —Ç–∞ `TELEGRAM_MOTO_CHAT_ID`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –±–æ—Ç –≤ –æ–±–æ—Ö –≥—Ä—É–ø–∞—Ö
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ API route: `src/app/api/contact/route.ts`

---

## üìö –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–ª—è –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –¥–∏–≤—ñ—Ç—å—Å—è:
- `docs/telegram-bot-setup.md` - –ü–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `src/lib/telegram.ts` - –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `src/app/api/telegram/` - API routes –¥–ª—è –±–æ—Ç–∞

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –ë–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —á–µ—Ä–µ–∑ @BotFather
- [ ] –¢–æ–∫–µ–Ω –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π –≤ `.env.local`
- [ ] –¢—Ä–∏ –≥—Ä—É–ø–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ (–ì–æ–ª–æ–≤–Ω–∞, –ê–≤—Ç–æ, –ú–æ—Ç–æ)
- [ ] –ë–æ—Ç –¥–æ–¥–∞–Ω–∏–π –≤ —É—Å—ñ –≥—Ä—É–ø–∏ —è–∫ –∞–¥–º—ñ–Ω
- [ ] Chat ID –æ—Ç—Ä–∏–º–∞–Ω—ñ –¥–ª—è –≤—Å—ñ—Ö –≥—Ä—É–ø
- [ ] –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
- [ ] –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π—à–ª–æ —É—Å–ø—ñ—à–Ω–æ
- [ ] Webhook –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π (–¥–ª—è production)
- [ ] –ö–æ–Ω—Ç–∞–∫—Ç-—Ñ–æ—Ä–º–∞ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–î–æ–¥–∞–π—Ç–µ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É** - –≤—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å
2. **CRM —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** - –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å –¥–æ –≤–∞—à–æ—ó CRM —Å–∏—Å—Ç–µ–º–∏
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** - —Å—Ç–≤–æ—Ä—ñ—Ç—å FAQ –±–æ—Ç
4. **Buttons/Keyboards** - –¥–æ–¥–∞–π—Ç–µ inline –∫–Ω–æ–ø–∫–∏ –¥–ª—è —à–≤–∏–¥—à–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
5. **Multi-language** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UA/EN –≤ –±–æ—Ç—ñ

---

**–ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞?** –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –≤ `docs/telegram-bot-setup.md`
