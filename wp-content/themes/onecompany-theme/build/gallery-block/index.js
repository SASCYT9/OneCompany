(()=>{"use strict";const e=window.wp.blocks,t=window.React,l=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,r=JSON.parse('{"UU":"onecompany/gallery-block"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{images:i,columns:o,gap:m}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Налаштування галереї","onecompany-theme")},(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Кількість колонок","onecompany-theme"),value:o,onChange:e=>r({columns:e}),min:1,max:4}),(0,t.createElement)(n.RangeControl,{label:(0,l.__)("Відступи (px)","onecompany-theme"),value:m,onChange:e=>r({gap:e}),min:0,max:50}))),(0,t.createElement)("div",{...(0,a.useBlockProps)()},(0,t.createElement)("div",{className:"liquid-gallery",style:{display:"grid",gridTemplateColumns:`repeat(${o}, 1fr)`,gap:`${m}px`}},i.map((e,a)=>(0,t.createElement)("div",{key:e.id,className:"liquid-gallery__item"},(0,t.createElement)("img",{src:e.url,alt:e.alt}),(0,t.createElement)(n.Button,{onClick:()=>(e=>{const t=[...i];t.splice(e,1),r({images:t})})(a),isDestructive:!0,style:{position:"absolute",top:"10px",right:"10px"}},(0,l.__)("Видалити","onecompany-theme"))))),(0,t.createElement)(a.MediaUploadCheck,null,(0,t.createElement)(a.MediaUpload,{onSelect:e=>{r({images:e.map(e=>({id:e.id,url:e.url,alt:e.alt}))})},allowedTypes:["image"],multiple:!0,gallery:!0,value:i.map(e=>e.id),render:({open:e})=>(0,t.createElement)(n.Button,{onClick:e,variant:"primary",style:{marginTop:"20px"}},0===i.length?(0,l.__)("Додати зображення","onecompany-theme"):(0,l.__)("Додати ще зображення","onecompany-theme"))}))))},save:function({attributes:e}){const{images:l,columns:n,gap:r}=e;return(0,t.createElement)("div",{...a.useBlockProps.save()},(0,t.createElement)("div",{className:"liquid-gallery",style:{display:"grid",gridTemplateColumns:`repeat(${n}, 1fr)`,gap:`${r}px`}},l.map(e=>(0,t.createElement)("div",{key:e.id,className:"liquid-gallery__item"},(0,t.createElement)("a",{href:e.url,"data-lightbox":"gallery"},(0,t.createElement)("img",{src:e.url,alt:e.alt}))))))}})})();